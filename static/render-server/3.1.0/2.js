(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1656:function(e,t,r){},1657:function(e,t,r){},1658:function(e,t,r){"use strict";r.r(t);var n,a,o,i,c,l,u,s,p=r(0),f=r.n(p),d=r(23),y=(r(107),r(46)),h=r.n(y),m=(r(337),r(149)),b=r.n(m),v=(r(665),r(91)),g=r.n(v),O=r(1654),w=r(5),E=r(6),C=r(127);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=D(e);if(t){var a=D(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return A(this,r)}}function A(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t,r,n,a){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var _,L=g.a.SubMenu,T=b.a.Search,K=(n=w.f.bound,a=w.f.bound,Object(d.c)((s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(o,e);var t,r,n,a=x(o);function o(){var e;j(this,o);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return k(e=a.call.apply(a,[this].concat(r)),"store",c,I(e)),k(e,"searchResult",l,I(e)),k(e,"searchKey",u,I(e)),e}return t=o,(r=[{key:"handleSearch",value:function(e){var t=this;if(this.searchKey=e.target.value,this.searchKey){var r=this.store.list.filter((function(e){return"folder"!==e.type})).filter((function(e){return e.title.toLowerCase().includes(t.searchKey.toLowerCase())}));this.searchResult.replace(r)}else this.searchResult.replace([])}},{key:"handleSelect",value:function(e){E.e.push("".concat(E.b.pathPrefix,"/app/").concat(this.store.appKey,"/apis/").concat(e.key))}},{key:"renderTree",value:function(e){var t=[];return e.forEach((function(e){return e.children&&e.children.length&&t.push(f.a.createElement(L,{key:e.key,title:f.a.createElement("span",null,f.a.createElement(O.a,null),f.a.createElement("span",null,e.title))},e.children.map((function(e){return f.a.createElement(g.a.Item,{key:e.key},e.title)})))),!0})),t}},{key:"render",value:function(){var e=this.searchKey?this.searchResult:this.store.treeData,t=this.store.appInfo;return t=Object(w.r)(t),f.a.createElement("div",{className:"sidebar-test"},f.a.createElement("div",{className:"fs20 FBH p6"},f.a.createElement("div",{style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},className:"FB1"},f.a.createElement(C.a,{to:"".concat(E.b.pathPrefix,"/app/").concat(this.store.appKey,"/apis/index")},t.name)),f.a.createElement(C.a,{to:"".concat(E.b.pathPrefix,"/app/").concat(this.store.appKey,"/apis/new")},f.a.createElement(h.a,{type:"primary",className:"m4"},"新建"))),f.a.createElement("div",{className:"sidebar-test-search"},f.a.createElement(T,{style:{width:240},placeholder:"请输入API名称关键字",onChange:this.handleSearch})),f.a.createElement("div",{className:"sidebar-tree"},this.store.treeData.length?f.a.createElement(g.a,{mode:"inline",onSelect:this.handleSelect,selectedKeys:[this.store.apiId],defaultOpenKeys:this.openKeys},this.renderTree(e)):null))}},{key:"openKeys",get:function(){var e=this;if(this.store.list.length){var t=this.store.apiList.find((function(t){return t.apiId===e.store.apiId}));if(t)return[t.cateCode]}return[]}}])&&R(t.prototype,r),n&&R(t,n),o}(f.a.Component),c=z((i=s).prototype,"store",[w.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.props.store}}),l=z(i.prototype,"searchResult",[w.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=z(i.prototype,"searchKey",[w.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),z(i.prototype,"openKeys",[w.h],Object.getOwnPropertyDescriptor(i.prototype,"openKeys"),i.prototype),z(i.prototype,"handleSearch",[n],Object.getOwnPropertyDescriptor(i.prototype,"handleSearch"),i.prototype),z(i.prototype,"handleSelect",[a],Object.getOwnPropertyDescriptor(i.prototype,"handleSelect"),i.prototype),o=i))||o),N=(r(231),r(174)),H=r.n(N),F=(r(235),r(236)),q=r.n(F),B=(r(173),r(61)),V=r.n(B),U=(r(667),r(669)),M=r.n(U),J=(r(340),r(232)),X=r.n(J),G=r(1651),W=r(1645),Q=r(1),$=r.n(Q),Y=r(1637),Z=r.n(Y);function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ie(e);if(t){var a=ie(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return oe(this,r)}}function oe(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ce=Object(d.c)(_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(o,e);var t,r,n,a=ae(o);function o(){return te(this,o),a.apply(this,arguments)}return t=o,(r=[{key:"render",value:function(){var e=this.props,t=e.title,r=e.extra,n=e.bodyStyle,a=e.children,o=e.type,i=void 0===o?"":o;return f.a.createElement("div",{className:$()({"box-item":!0})},f.a.createElement("div",{className:"box-head FBH"},f.a.createElement("div",{className:"box-title"},t),f.a.createElement("div",{className:"box-title-extra"},r)),f.a.createElement("div",{className:$()({"box-content":!0,"table-type":"table"===i}),style:n},a))}}])&&re(t.prototype,r),n&&re(t,n),o}(f.a.Component))||_;function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ye(e);if(t){var a=ye(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return de(this,r)}}function de(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var he,me,be,ve,ge,Oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(o,e);var t,r,n,a=fe(o);function o(){return ue(this,o),a.apply(this,arguments)}return t=o,(r=[{key:"render",value:function(){return f.a.createElement("div",{className:"filed-item"},f.a.createElement("label",{className:"box-item-label"},this.props.label),f.a.createElement("span",{className:"value-box"},this.props.value),this.props.action&&f.a.createElement("button",{className:"button-style ml24",onClick:this.props.action}," ","编辑"," "))}}])&&se(t.prototype,r),n&&se(t,n),o}(f.a.Component),we=(r(1656),ce),Ee=r(234),Ce=(r(664),r(339)),Pe=r.n(Ce),ke=(r(1635),r(1636)),je=r.n(ke),Re=r(1633),Se=r.n(Re);function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Le(e);if(t){var a=Le(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return _e(this,r)}}function _e(e,t){return!t||"object"!==xe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,t,r,n,a){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Ke,Ne,He,Fe,qe,Be,Ve,Ue=je.a.Option,Me=["X-xxx-Access-UserId","X-xxx-Access-TenantId","X-xxx-Access-ProductId","X-xxx-Access-SessionId","Token","Cookie","X-Requested-With","Content-Type","Authorization","Accept","Accept-Charset","Accept-Encoding","Accept-Datetime","Accept-Language","Cache-Control","Connection","Content-Length","Content-MD5","Expect","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Max-Forwards","Origin","Proxy-Authorization","Range","Referer","Upgrade","User-Agent","Via","Warning","X-Forwarded-For","X-Forwarded-Host","X-Forwarded-Proto","X-Request-ID","Access-Control-Allow-Origin","Accept-Patch","Accept-Ranges","Age","Allow","Alt-Svc","Content-Disposition","Content-Encoding","Content-Language","Content-Location","Content-Range","Date","ETag","Expires","Last-Modified","Link","Location"],Je=["XMLHttpRequest","application/json","application/octet-strea","application/xml","application/zip","application/x-www-form-urlencoded","application/pdf","application/javascript","image/gif","image/jpeg","image/pjpeg","image/png","image/svg+xml","image/tiff","text/plain","utf-8","gzip, deflate","no-cache","keep-alive","en-US","close","zh-cn","*/*"],Xe=(he=w.f.bound,me=w.f.bound,be=w.f.bound,Object(d.c)((Te((ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(o,e);var t,r,n,a=ze(o);function o(){return Ae(this,o),a.apply(this,arguments)}return t=o,(r=[{key:"handleOnChange",value:function(e,t,r,n){var a=this.props.store;r[t]=e,n===a.header.length-1&&"name"===t&&this.handleAddItem(),a.update()}},{key:"handleAddItem",value:function(){var e=this.props.store;e.header.push({name:"",value:""}),e.update()}},{key:"deleteItem",value:function(e){var t=this.props.store;Se.a.remove(t.header,(function(t,r){return r===e})),t.update()}},{key:"render",value:function(){var e=this,t=this.props.store;return f.a.createElement("div",{className:"test-headers","data-update":t.updateKey},f.a.createElement("table",{className:"test-param-table",cellSpacing:"0",cellPadding:"0"},f.a.createElement("thead",null,f.a.createElement("tr",null,f.a.createElement("th",null),f.a.createElement("th",null,"Headers 参数"),f.a.createElement("th",null,"参数值"),f.a.createElement("th",null,"操作"))),f.a.createElement("tbody",null,t.header.map((function(r,n){var a={style:{width:"100%"},value:r.name,disabled:r.disabled,placeholder:"请输入类型",onChange:function(t){return e.handleOnChange(t,"name",r,n)}},o=r.name?Me.filter((function(e){return e.toUpperCase().includes(r.name.toUpperCase())})):Me,i=f.a.createElement("td",{style:{width:300},className:$()({"ant-form-item-required":r.isRequired})},a.disabled?a.value:f.a.createElement(je.a,a,o.map((function(e){return f.a.createElement(Ue,{key:e},e)})))),c={style:{width:"100%"},value:r.value,placeholder:r.description||"请输入值",onChange:function(t){return e.handleOnChange(t,"value",r,n)}},l=r.value?Je.filter((function(e){return e.toUpperCase().includes(r.value.toUpperCase())})):Je,u=f.a.createElement("td",null,f.a.createElement(je.a,c,l.map((function(e){return f.a.createElement(Ue,{key:e},e)})))),s="";return s=n===t.header.length-1||!0===r.disabled?f.a.createElement("td",{style:{width:70}}):f.a.createElement("td",{style:{width:70}},f.a.createElement("a",{onClick:function(){return e.deleteItem(n)}},"删除")),f.a.createElement("tr",{key:r.name},f.a.createElement("td",{style:{width:50}},f.a.createElement(Pe.a,{disabled:r.isRequired,checked:r.checked,onChange:function(t){return e.handleOnChange(t.target.checked,"checked",r,n)}})),i,u,s)})))))}}])&&Ie(t.prototype,r),n&&Ie(t,n),o}(f.a.Component)).prototype,"handleOnChange",[he],Object.getOwnPropertyDescriptor(ge.prototype,"handleOnChange"),ge.prototype),Te(ge.prototype,"handleAddItem",[me],Object.getOwnPropertyDescriptor(ge.prototype,"handleAddItem"),ge.prototype),Te(ge.prototype,"deleteItem",[be],Object.getOwnPropertyDescriptor(ge.prototype,"deleteItem"),ge.prototype),ve=ge))||ve);function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function We(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=rt(e);if(t){var a=rt(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return et(this,r)}}function et(e,t){return!t||"object"!==Ge(t)&&"function"!=typeof t?tt(e):t}function tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nt(e,t,r,n,a){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var at,ot=(Ke=w.f.bound,Ne=w.f.bound,He=w.f.bound,Object(d.c)((Ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}(o,e);var t,r,n,a=Ze(o);function o(){var e;Qe(this,o);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return We(e=a.call.apply(a,[this].concat(r)),"updateKey",Be,tt(e)),e}return t=o,(r=[{key:"handleOnChange",value:function(e,t,r,n){var a=this.props.store;r[t]=e,n===a.query.length-1&&"name"===t&&this.handleAddItem(),a.update()}},{key:"handleAddItem",value:function(){var e=this.props.store;e.query.push({name:"",value:"",checked:!0}),e.update()}},{key:"deleteItem",value:function(e){var t=this.props.store;Se.a.remove(t.query,(function(t,r){return r===e})),t.update()}},{key:"render",value:function(){var e=this,t=this.props.store;return f.a.createElement("div",{className:"test-query","data-update":t.updateKey},f.a.createElement("table",{className:"test-param-table",cellSpacing:"0",cellPadding:"0"},f.a.createElement("thead",null,f.a.createElement("tr",null,f.a.createElement("th",null),f.a.createElement("th",null,"Query 参数"),f.a.createElement("th",null,"参数值"),f.a.createElement("th",null,"操作"))),f.a.createElement("tbody",null,t.query.map((function(r,n){var a={value:r.name,placeholder:"请输入参数名",disabled:r.disabled,onChange:function(t){return e.handleOnChange(t.target.value,"name",r,n)}},o={value:r.value,placeholder:r.description||"请输入值",onChange:function(t){return e.handleOnChange(t.target.value,"value",r,n)}},i=f.a.createElement("td",{style:{width:300},className:$()({"ant-form-item-required":r.isRequired})},a.disabled?a.value:f.a.createElement(b.a,a)),c=f.a.createElement("td",null,f.a.createElement(b.a,o)),l="";return l=n===t.query.length-1||!0===r.disabled?f.a.createElement("td",{style:{width:70}}):f.a.createElement("td",{style:{width:70}},f.a.createElement("a",{onClick:function(){return e.deleteItem(n)}},"删除")),f.a.createElement("tr",{key:r.name},f.a.createElement("td",{style:{width:50}},f.a.createElement(Pe.a,{disabled:r.isRequired,checked:r.checked,onChange:function(t){return e.handleOnChange(t.target.checked,"checked",r,n)}})),i,c,l)})))))}}])&&$e(t.prototype,r),n&&$e(t,n),o}(f.a.Component),Be=nt((qe=Ve).prototype,"updateKey",[w.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),nt(qe.prototype,"handleOnChange",[Ke],Object.getOwnPropertyDescriptor(qe.prototype,"handleOnChange"),qe.prototype),nt(qe.prototype,"handleAddItem",[Ne],Object.getOwnPropertyDescriptor(qe.prototype,"handleAddItem"),qe.prototype),nt(qe.prototype,"deleteItem",[He],Object.getOwnPropertyDescriptor(qe.prototype,"deleteItem"),qe.prototype),Fe=qe))||Fe),it=(r(230),r(99)),ct=r.n(it),lt=r(104),ut=r(223),st=r.n(ut);function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function dt(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){ft(o,n,a,i,c,"next",e)}function c(e){ft(o,n,a,i,c,"throw",e)}i(void 0)}))}}function yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ht(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mt(e,t){return(mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=gt(e);if(t){var a=gt(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return vt(this,r)}}function vt(e,t){return!t||"object"!==pt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gt(e){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ot,wt=Object(d.c)(at=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mt(e,t)}(o,e);var t,r,n,a=bt(o);function o(){var e;yt(this,o);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=a.call.apply(a,[this].concat(r))).handleDelete=dt(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.props.store,ct.a.confirm({title:"删除接口",content:"确认删除该接口及测试用例？",okText:"确认",cancelText:"取消",onOk:function(){r.deleteApi()}});case 2:case"end":return t.stop()}}),t)}))),e.handleEdit=dt(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.props.store,n=Object(w.r)(r.apiDetail),r.newApiData=n,r.editApi=!0;case 4:case"end":return t.stop()}}),t)}))),e}return t=o,(r=[{key:"render",value:function(){var e=this,t=this.props.store,r=Object(w.r)(t.apiDetail);return f.a.createElement("div",null,f.a.createElement(we,{title:"接口信息"},f.a.createElement(Oe,{label:"API名称",value:r.name}),f.a.createElement(Oe,{label:"API路径",value:r.path}),f.a.createElement(Oe,{label:"API前缀",value:r.apiPrefix}),f.a.createElement(Oe,{label:"API完整路径",value:"".concat(r.apiPrefix).concat(r.path)}),f.a.createElement(Oe,{label:"API功能描述",value:r.description})),f.a.createElement("table",{className:"test-param-table mb20",cellSpacing:"0",cellPadding:"0"},f.a.createElement("thead",null,f.a.createElement("tr",null,f.a.createElement("th",null,"参数名"),f.a.createElement("th",null,"位置"),f.a.createElement("th",null,"是否必须"),f.a.createElement("th",null,"描述"),f.a.createElement("th",null,"描述"))),f.a.createElement("tbody",null,r.params.map((function(e,t){return f.a.createElement("tr",null,f.a.createElement("td",null,e.name),f.a.createElement("td",null,e.paramLocation),f.a.createElement("td",null,e.isRequired?"是":"否"),f.a.createElement("td",null,e.value),f.a.createElement("td",null,e.description))})))),["POST","PUT","DELETE"].indexOf(r.method.toUpperCase())>=0?f.a.createElement(we,{title:"Boy示例"},f.a.createElement(Ee.b,{value:r.body})):"",f.a.createElement(we,{title:"详情描述"},f.a.createElement(st.a,{source:r.detail,escapeHtml:!1})),f.a.createElement("div",{className:"fac"},f.a.createElement(h.a,{type:"ghost",size:"large",onClick:function(){return e.handleEdit()}},"编辑"),f.a.createElement(h.a,{className:"ml10",type:"ghost",size:"large",onClick:function(){return e.handleDelete()}},"删除")))}}])&&ht(t.prototype,r),n&&ht(t,n),o}(f.a.Component))||at,Et=Object(lt.g)(wt),Ct=(r(663),r(338)),Pt=r.n(Ct),kt=r.p+"empty.2dfcd765.png";function jt(e){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function St(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xt(e,t){return(xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function At(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Dt(e);if(t){var a=Dt(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return It(this,r)}}function It(e,t){return!t||"object"!==jt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dt(e){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zt,_t,Lt,Tt,Kt=Object(d.c)(Ot=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xt(e,t)}(o,e);var t,r,n,a=At(o);function o(){return Rt(this,o),a.apply(this,arguments)}return t=o,(r=[{key:"render",value:function(){return f.a.createElement("div",{className:"error-status FBV FBJC FBAC"},f.a.createElement("div",{className:"FBV FBJC FBAC"},f.a.createElement("img",{src:kt,alt:"有错误"}),f.a.createElement("span",{className:"error-status-tip"},this.props.tip)))}}])&&St(t.prototype,r),n&&St(t,n),o}(f.a.Component))||Ot,Nt=(r(1657),Kt);function Ht(e){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(e){return function(e){if(Array.isArray(e))return qt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return qt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bt(){return(Bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ut(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Mt(e,t){return(Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Gt(e);if(t){var a=Gt(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Xt(this,r)}}function Xt(e,t){return!t||"object"!==Ht(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gt(e){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wt(e,t,r,n,a){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Qt,$t,Yt,Zt=X.a.Option,er=(zt=w.f.bound,_t=w.f.bound,Object(d.c)((Wt((Tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mt(e,t)}(o,e);var t,r,n,a=Jt(o);function o(){return Vt(this,o),a.apply(this,arguments)}return t=o,(r=[{key:"handleOnChange",value:function(e,t,r,n){var a=this.props.store;r[t]=e,n===a.globalConfig.length-1&&"name"===t&&a.globalConfig.push({name:"",paramLocation:"Header",value:"",checked:!0}),r.name&&a.resetStorage(),a.update()}},{key:"deleteItem",value:function(e,t){var r=this.props.store;r.globalConfig.length>1&&(Se.a.remove(r.globalConfig,(function(t,r){return r===e})),t.name&&r.resetStorage(),r.update())}},{key:"render",value:function(){var e=this,t=this.props.store,r=[{title:"使用",dataIndex:"checked",key:"checked",width:100,render:function(t,r,n){var a={onChange:function(t){return e.handleOnChange(t.target.checked,"checked",r,n)},checked:!0===r.checked&&r.checked};return f.a.createElement(Pe.a,a)}},{title:"参数名称",dataIndex:"name",key:"name",width:200,render:function(t,r,n){var a={placeholder:"请填写参数名称",onChange:function(t){e.handleOnChange(t.target.value,"name",r,n)},value:r.name?r.name:void 0};return f.a.createElement(b.a,a)}},{title:"参数位置",dataIndex:"paramLocation",key:"paramLocation",width:150,render:function(t,r,n){var a={value:r.paramLocation?r.paramLocation:void 0,onChange:function(t){return e.handleOnChange(t,"paramLocation",r,n)}},o=[];return o.push(f.a.createElement(Zt,{value:"Query"},"Query")),o.push(f.a.createElement(Zt,{value:"Header"},"Header")),f.a.createElement(X.a,Bt({placeholder:"请选择参数位置"},a),o)}},{title:"参数值",dataIndex:"value",key:"value",render:function(t,r,n){var a={placeholder:"填写值",onChange:function(t){return e.handleOnChange(t.target.value,"value",r,n)},value:r.value?r.value:void 0};return f.a.createElement(b.a,a)}},{title:"描述说明",dataIndex:"description",key:"description",render:function(t,r,n){var a={placeholder:"描述说明字段含义",onChange:function(t){return e.handleOnChange(t.target.value,"description",r,n)},value:r.description};return f.a.createElement(b.a,a)}},{title:"操作",dataIndex:"action",key:"action",width:50,render:function(t,r,n){return f.a.createElement("a",{onClick:function(){return e.deleteItem(n,r)}},"删除")}}];console.log(t.globalConfig);var n={bordered:!1,dataSource:Ft(t.globalConfig),columns:r,pagination:!1,size:"small",locale:{emptyText:f.a.createElement(Nt,{tip:"暂无数据"})}};return f.a.createElement("div",{className:"test-query","data-update":t.updateKey},f.a.createElement(Pt.a,n))}}])&&Ut(t.prototype,r),n&&Ut(t,n),o}(f.a.Component)).prototype,"handleOnChange",[zt],Object.getOwnPropertyDescriptor(Tt.prototype,"handleOnChange"),Tt.prototype),Wt(Tt.prototype,"deleteItem",[_t],Object.getOwnPropertyDescriptor(Tt.prototype,"deleteItem"),Tt.prototype),Lt=Tt))||Lt);function tr(e){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nr(e,t){return(nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ar(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ir(e);if(t){var a=ir(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return or(this,r)}}function or(e,t){return!t||"object"!==tr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ir(e){return(ir=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var cr,lr,ur,sr,pr,fr,dr,yr,hr,mr,br,vr=(Qt=w.f.bound,Object(d.c)((Yt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nr(e,t)}(o,e);var t,r,n,a=ar(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);(t=a.call(this,e)).props.store;return t}return t=o,(r=[{key:"handleGetBodyDescription",value:function(e){this.props.store.body=e}},{key:"render",value:function(){var e=this.props.store;return f.a.createElement(Ee.a,{value:e.defaultBody||"",key:e.defaultBody||"",onChange:this.handleGetBodyDescription})}}])&&rr(t.prototype,r),n&&rr(t,n),o}(f.a.Component),cr=Yt.prototype,lr="handleGetBodyDescription",ur=[Qt],sr=Object.getOwnPropertyDescriptor(Yt.prototype,"handleGetBodyDescription"),pr=Yt.prototype,fr={},Object.keys(sr).forEach((function(e){fr[e]=sr[e]})),fr.enumerable=!!fr.enumerable,fr.configurable=!!fr.configurable,("value"in fr||fr.initializer)&&(fr.writable=!0),fr=ur.slice().reverse().reduce((function(e,t){return t(cr,lr,e)||e}),fr),pr&&void 0!==fr.initializer&&(fr.value=fr.initializer?fr.initializer.call(pr):void 0,fr.initializer=void 0),void 0===fr.initializer&&(Object.defineProperty(cr,lr,fr),fr=null),$t=Yt))||$t),gr=(r(666),r(222)),Or=r.n(gr);function wr(e){return(wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Er(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Cr(e,t){return(Cr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=jr(e);if(t){var a=jr(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return kr(this,r)}}function kr(e,t){return!t||"object"!==wr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jr(e){return(jr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rr(e,t,r,n,a){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Sr,xr,Ar,Ir,Dr=(dr=w.f.bound,yr=w.f.bound,hr=w.f.bound,Object(d.c)((Rr((br=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cr(e,t)}(o,e);var t,r,n,a=Pr(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).props.store.getTestCaseList(),t}return t=o,(r=[{key:"handleShowHide",value:function(){var e=this.props.store;e.showCase=!e.showCase}},{key:"handleClick",value:function(e){console.log("handleClick",e),this.props.store.useCase(e)}},{key:"handleDelete",value:function(e){return this.props.store.deleteCase(e)}},{key:"render",value:function(){var e=this,t=this.props.store;return f.a.createElement("div",{className:$()({"test-case":!0,"show-case":t.showCase,FBH:!0})},f.a.createElement("div",{className:$()({"top-block":!0,"params-active":t.showCase}),onClick:this.handleShowHide},f.a.createElement("span",null,"测试用例")),f.a.createElement("div",{className:$()({"param-container":!0,"param-container-show":t.showCase})},f.a.createElement(H.a,{spinning:t.caseListLoading},f.a.createElement(Or.a,{bordered:!0,dataSource:t.caseList,renderItem:function(t){return f.a.createElement(Or.a.Item,{actions:[f.a.createElement(h.a,{className:"button-style-hover",type:"primary",onClick:function(){return e.handleDelete(t.caseId)}},"删除")],key:t.caseId},f.a.createElement("div",{className:"test-case-item",onClick:function(){return e.handleClick(t.caseId)}},f.a.createElement(h.a,{type:"link"},t.name)))}}))))}}])&&Er(t.prototype,r),n&&Er(t,n),o}(f.a.Component)).prototype,"handleShowHide",[dr],Object.getOwnPropertyDescriptor(br.prototype,"handleShowHide"),br.prototype),Rr(br.prototype,"handleClick",[yr],Object.getOwnPropertyDescriptor(br.prototype,"handleClick"),br.prototype),Rr(br.prototype,"handleDelete",[hr],Object.getOwnPropertyDescriptor(br.prototype,"handleDelete"),br.prototype),mr=br))||mr);function zr(e){return(zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _r(){return(_r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Lr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Kr(e,t){return(Kr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Fr(e);if(t){var a=Fr(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Hr(this,r)}}function Hr(e,t){return!t||"object"!==zr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fr(e){return(Fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qr(e,t,r,n,a){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Br,Vr,Ur,Mr,Jr,Xr,Gr,Wr,Qr,$r,Yr=W.a.Item,Zr=(Sr=w.f.bound,xr=w.f.bound,Object(d.c)((qr((Ir=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kr(e,t)}(o,e);var t,r,n,a=Nr(o);function o(){return Lr(this,o),a.apply(this,arguments)}return t=o,(r=[{key:"handleOnCancel",value:function(){this.props.store.modalVisible.addCase=!1}},{key:"handleOnOk",value:function(){var e=this.props.store;(0,this.props.form.validateFields)((function(t,r){t||e.saveTestCase(r.name)}))}},{key:"render",value:function(){var e=this,t=this.props.store,r=this.props.form.getFieldDecorator,n={title:"新建测试用例",visible:t.modalVisible.addCase,onCancel:this.handleOnCancel,onOk:this.handleOnOk,maskClosable:!1,destroyOnClose:!0,className:"test-case-add"};return f.a.createElement(ct.a,n,f.a.createElement(W.a,null,f.a.createElement(Yr,_r({},{labelCol:{span:5},wrapperCol:{span:19},colon:!1},{label:"用例名称： ",hasFeedback:!0}),r("name",{rules:[{required:!0,message:"测试用例名称不可为空"},{max:20,message:"名称长度不应超过20位"}]})(f.a.createElement(b.a,{placeholder:"请填写新的测试用例名称",ref:function(t){return e.nameInput=t}})))))}}])&&Tr(t.prototype,r),n&&Tr(t,n),o}(f.a.Component)).prototype,"handleOnCancel",[Sr],Object.getOwnPropertyDescriptor(Ir.prototype,"handleOnCancel"),Ir.prototype),qr(Ir.prototype,"handleOnOk",[xr],Object.getOwnPropertyDescriptor(Ir.prototype,"handleOnOk"),Ir.prototype),Ar=Ir))||Ar),en=W.a.create()(Zr);function tn(e){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nn(e,t){return(nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function an(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=cn(e);if(t){var a=cn(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return on(this,r)}}function on(e,t){return!t||"object"!==tn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cn(e){return(cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ln(e,t,r,n,a){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var un,sn,pn,fn,dn,yn,hn,mn,bn,vn,gn=X.a.Option,On=M.a.TabPane,wn=(Br=w.f.bound,Vr=w.f.bound,Ur=w.f.bound,Mr=w.f.bound,Jr=w.f.bound,Xr=w.f.bound,Gr=w.f.bound,Wr=w.f.bound,Object(d.c)((ln(($r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nn(e,t)}(o,e);var t,r,n,a=an(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).store=e.store,t.store.result={headers:{},body:"",status:"-"},console.log("ApiContent constructor"),t}return t=o,(r=[{key:"componentDidMount",value:function(){console.log("ApiContent componentDidMount",this.store.apiId,this.store.appKey),this.store.getApiDetail()}},{key:"handleClick",value:function(){var e=this;(0,this.props.form.validateFieldsAndScroll)((function(t,r){console.log("test handleClick",r),t||e.store.testApi(r)}))}},{key:"handleResultCopy",value:function(){var e=this.props.store;Z()(e.result.body),V.a.success("已复制")}},{key:"handlePathCopy",value:function(e){Z()(e),V.a.success("内容已复制: ".concat(e))}},{key:"handleSaveClick",value:function(){this.store.formatParams()&&(this.store.modalVisible.addCase=!0)}},{key:"handleCaseChange",value:function(e){this.store.selectedCaseId=e.key,this.handleResetFieldValue()}},{key:"handleOnChange",value:function(e,t,r,n){console.log("handleOnChange",e,t,n);var a=this.props.store;r[t]=e,a.update()}},{key:"changeHost",value:function(e){this.store.host=e}},{key:"changePrefix",value:function(e){this.store.apiPrefix=e}},{key:"render",value:function(){var e=this,t=this.store,r=(t.apiDetail,t.result),n=(t.header,t.query,t.param);this.props.form.getFieldDecorator,console.log("result.body",r.body);var a=!n.length;return f.a.createElement("div",{className:"FB1 FBH FBJ",style:{overflowY:"auto",overflowX:"hidden"}},f.a.createElement(en,{store:t,outerForm:this.props.form}),f.a.createElement("div",{className:"test-content FB1"},f.a.createElement(H.a,{spinning:t.isLoading},f.a.createElement("div",{className:"FBH FBAC test-name "},f.a.createElement("div",{className:"FB1"},Object(E.d)(t.method.toUpperCase()),f.a.createElement("span",{style:{fontSize:20,fontWeight:600}},t.apiDetail.name),f.a.createElement("span",{style:{fontSize:12,marginLeft:20,opacity:.7,paddingTop:8}},t.apiDetail.description)),f.a.createElement("div",null,f.a.createElement(X.a,{style:{width:100},defaultValue:t.host,allowClear:!0,value:t.host,placeholder:"设置主机",onChange:this.changeHost},t.appInfo.hosts.map((function(e){return f.a.createElement(gn,{key:e,value:e.host},e.name)}))),f.a.createElement(X.a,{style:{width:100},defaultValue:t.apiPrefix,value:t.apiPrefix,className:"ml4",placeholder:"设置前缀",onChange:this.changePrefix,allowClear:!0},t.appInfo.apiPrefiies.map((function(e){return f.a.createElement(gn,{key:e,value:e},e)}))))),f.a.createElement("div",{className:"FBH FBJ mt20 mb20"},f.a.createElement("div",{className:"pl10 FBH FBJ FBAC",style:{height:40,background:"#F5F7F9",fontSize:14,letterSpacing:1,width:"100%"}},f.a.createElement("div",null,f.a.createElement("strong",{style:{color:"#1890ff"}},t.host||""),f.a.createElement("span",{style:{color:"#52c41a"}},t.apiPrefix||""),f.a.createElement("span",{style:{fontWeight:500}},t.apiDetail.path)),f.a.createElement(q.a,{title:"点击复制路径"},f.a.createElement(G.a,{className:"copyIcon",onClick:function(){return e.handlePathCopy("".concat(t.apiPrefix||"").concat(t.apiDetail.path))}}))),f.a.createElement(h.a,{type:"primary",size:"large",style:{marginLeft:"12px"},onClick:this.handleClick},"测试"),f.a.createElement(h.a,{size:"large",style:{marginLeft:"12px"},onClick:this.handleSaveClick},"保存")),f.a.createElement(M.a,{type:"card"},f.a.createElement(On,{tab:"参数配置",key:"1"},f.a.createElement("div",{className:$()({"test-param":!0,hide:a,mt5:!0}),style:{marginTop:4}},f.a.createElement("table",{className:"test-param-table",cellSpacing:"0",cellPadding:"0","data-update":t.updateKey},f.a.createElement("tbody",null,n.map((function(t,r){return f.a.createElement("tr",{key:t.index},f.a.createElement("td",null,"路由参数"),f.a.createElement("td",{className:$()({"ant-form-item-required":!0})},t.name),f.a.createElement("td",null,f.a.createElement(b.a,{placeholder:"必填 - ".concat(t.description),value:t.value,onChange:function(n){return e.handleOnChange(n.target.value,"value",t,r)}})))}))))),f.a.createElement(ot,{store:t}),f.a.createElement(Xe,{store:t}),["POST","PUT","DELETE"].indexOf(t.method.toUpperCase())>=0?f.a.createElement("div",{className:"test-param"},f.a.createElement("div",{className:"test-param",style:{overflow:"scroll"}},f.a.createElement("table",{className:"test-param-table",cellSpacing:"0",cellPadding:"0"},f.a.createElement("thead",null,f.a.createElement("tr",null,f.a.createElement("th",null,"Body参数(json格式)"))),f.a.createElement("tbody",null,f.a.createElement("tr",null,f.a.createElement("td",{style:{padding:0}},f.a.createElement(vr,{store:t}))))))):null,f.a.createElement("div",{className:"test-result"},f.a.createElement(we,{title:f.a.createElement("strong",{style:{color:"blue"}},"测试结果展示: ",t.result.status||"-"),extra:f.a.createElement(h.a,{size:"middle",type:"primary",onClick:this.handleResultCopy},"复制")},r?f.a.createElement(Ee.b,{value:r?r.body:""}):null),f.a.createElement(Ee.b,{value:r.headers?JSON.stringify(r.headers,null,4):""}))),f.a.createElement(On,{tab:"接口信息",key:"2"},f.a.createElement(Et,{store:t})),f.a.createElement(On,{tab:"全局参数",key:"3"},f.a.createElement(er,{store:t}))))),f.a.createElement(Dr,{store:t,form:this.props.form}))}}])&&rn(t.prototype,r),n&&rn(t,n),o}(f.a.Component)).prototype,"handleClick",[Br],Object.getOwnPropertyDescriptor($r.prototype,"handleClick"),$r.prototype),ln($r.prototype,"handleResultCopy",[Vr],Object.getOwnPropertyDescriptor($r.prototype,"handleResultCopy"),$r.prototype),ln($r.prototype,"handlePathCopy",[Ur],Object.getOwnPropertyDescriptor($r.prototype,"handlePathCopy"),$r.prototype),ln($r.prototype,"handleSaveClick",[Mr],Object.getOwnPropertyDescriptor($r.prototype,"handleSaveClick"),$r.prototype),ln($r.prototype,"handleCaseChange",[Jr],Object.getOwnPropertyDescriptor($r.prototype,"handleCaseChange"),$r.prototype),ln($r.prototype,"handleOnChange",[Xr],Object.getOwnPropertyDescriptor($r.prototype,"handleOnChange"),$r.prototype),ln($r.prototype,"changeHost",[Gr],Object.getOwnPropertyDescriptor($r.prototype,"changeHost"),$r.prototype),ln($r.prototype,"changePrefix",[Wr],Object.getOwnPropertyDescriptor($r.prototype,"changePrefix"),$r.prototype),Qr=$r))||Qr),En=W.a.create()(wn),Cn=(r(1638),r(1639)),Pn=r.n(Cn);function kn(e){return(kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jn(){return(jn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Rn(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Sn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xn(e,t){return(xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function An(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=zn(e);if(t){var a=zn(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return In(this,r)}}function In(e,t){return!t||"object"!==kn(t)&&"function"!=typeof t?Dn(e):t}function Dn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zn(e){return(zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _n(e,t,r,n,a){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Ln,Tn,Kn,Nn,Hn,Fn,qn,Bn,Vn,Un,Mn=W.a.Item,Jn=(un=w.f.bound,sn=w.f.bound,pn=w.f.bound,fn=w.f.bound,dn=w.f.bound,Object(d.c)((vn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xn(e,t)}(o,e);var t,r,n,a=An(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Rn(t=a.call(this),"updateKey",mn,Dn(t)),Rn(t,"isEditing",bn,Dn(t)),t.store=e.store;var r=e.form.getFieldDecorator;return t.categoryColumns=[{title:"类目名称",dataIndex:"name",key:"name",render:function(e,t,n){return"add"===t.type||"edit"===t.type?React.createElement(Mn,null,r("name",{rules:[{required:!0,message:"类目名称不能为空"}],initialValue:"edit"===t.type?t.name:""})(React.createElement(b.a,{placeholder:"请输入新类目名称"}))):e}},{title:"类目code",dataIndex:"cateCode",key:"cateCode",render:function(e,t,n){return"add"===t.type?React.createElement(Mn,null,r("cateCode",{rules:[{required:!0,message:"类目code不能为空"},{pattern:/[a-z0-9A-Z-_/]+/i,message:"字母数字下划线"}]})(React.createElement(b.a,{width:"100",placeholder:"请输入新类目code"}))):e}},{title:"操作",dataIndex:"action",key:"action",render:function(e,r,n){return"add"===r.type?React.createElement("div",{style:{marginRight:0,width:115}},React.createElement(h.a,{className:"ml4 mr4",type:"ghost",size:"small",onClick:function(){return t.handleAddCategory("add")}},"添加"),React.createElement(h.a,{className:"ml4 mr4",type:"ghost",size:"small",onClick:function(){return t.handleAddCategory("cancel")}},"取消")):"edit"===r.type?React.createElement("div",null,React.createElement(h.a,{className:"ml4 mr4",type:"ghost",size:"small",onClick:function(){return t.handleEditCategory("edit",r.cateCode)}},"保存修改"),React.createElement(h.a,{className:"ml4 mr4",type:"ghost",size:"small",onClick:function(){return t.handleEditCategory("cancel",r.cateCode)}},"取消")):React.createElement("div",null,React.createElement(h.a,{className:"ml4 mr4",type:"ghost",size:"small",onClick:function(){return t.handleEdit(r.cateCode)}},"编辑"),React.createElement(h.a,{className:"ml4 mr4",type:"ghost",size:"small",onClick:function(){return t.store.deleteServiceCategory(r.cateCode)}},"删除"))}}],t}return t=o,(r=[{key:"componentWillMount",value:function(){var e=this;this.disposer=Object(w.g)((function(){e.store.visible&&e.store.getServiceCategoryList()}))}},{key:"componentWillUnmount",value:function(){this.disposer()}},{key:"handleOnCancel",value:function(){this.store.appCateVisible=!1,Se.a.remove(this.store.appInfo.categories,(function(e){return"add"===e.type}))}},{key:"addCategory",value:function(){this.store.appInfo.categories.push({name:"",cateCode:"",type:"add"})}},{key:"handleAddCategory",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add",r=this.props.form.validateFields;"add"===t?r((function(t,r){t||e.store.addServiceCategory(r)})):Se.a.remove(this.store.appInfo.categories,(function(e){return"add"===e.type}))}},{key:"handleEditCategory",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"edit",r=arguments.length>1?arguments[1]:void 0,n=this.props.form.validateFields;if("edit"===t)n((function(t,n){t||(e.store.editServiceCategory(n,r),e.isEditing=!1)}));else{var a=this.store.appInfo.categories.find((function(e){return e.cateCode===r}));a&&delete a.type,this.isEditing=!1,this.updateKey=Math.random()}}},{key:"handleEdit",value:function(e){this.hasAddItem||(this.store.appInfo.categories.find((function(t){return t.cateCode===e})).type="edit",this.isEditing=!0,this.updateKey=Math.random())}},{key:"render",value:function(){if(!this.store.appCateVisible)return null;var e={title:"接口分类",visible:this.store.appCateVisible,onCancel:this.handleOnCancel,onOk:this.handleOnCancel,className:"app-category-modal",key:this.store.visible,maskClosable:!1,footer:React.createElement(h.a,{disabled:this.hasAddItem,size:"normal",onClick:this.addCategory,type:"primary"},"新建类目")},t={columns:this.categoryColumns,rowKey:"cateCode",loading:this.store.isLoading,bordered:!0,className:"edit-table",dataSource:Object(w.r)(this.store.appInfo.categories),pagination:!1};return React.createElement(ct.a,jn({},e,{"data-update":this.updateKey}),React.createElement(Pt.a,t))}},{key:"hasAddItem",get:function(){return this.store.appInfo.categories.some((function(e){return"add"===e.type}))||this.isEditing}}])&&Sn(t.prototype,r),n&&Sn(t,n),o}(p.Component),mn=_n((hn=vn).prototype,"updateKey",[w.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),bn=_n(hn.prototype,"isEditing",[w.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_n(hn.prototype,"hasAddItem",[w.h],Object.getOwnPropertyDescriptor(hn.prototype,"hasAddItem"),hn.prototype),_n(hn.prototype,"handleOnCancel",[un],Object.getOwnPropertyDescriptor(hn.prototype,"handleOnCancel"),hn.prototype),_n(hn.prototype,"addCategory",[sn],Object.getOwnPropertyDescriptor(hn.prototype,"addCategory"),hn.prototype),_n(hn.prototype,"handleAddCategory",[pn],Object.getOwnPropertyDescriptor(hn.prototype,"handleAddCategory"),hn.prototype),_n(hn.prototype,"handleEditCategory",[fn],Object.getOwnPropertyDescriptor(hn.prototype,"handleEditCategory"),hn.prototype),_n(hn.prototype,"handleEdit",[dn],Object.getOwnPropertyDescriptor(hn.prototype,"handleEdit"),hn.prototype),yn=hn))||yn),Xn=W.a.create()(Jn);function Gn(e){return(Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wn(){return(Wn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Qn(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function $n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Yn(e,t){return(Yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ra(e);if(t){var a=ra(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return ea(this,r)}}function ea(e,t){return!t||"object"!==Gn(t)&&"function"!=typeof t?ta(e):t}function ta(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ra(e){return(ra=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function na(e,t,r,n,a){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var aa,oa,ia,ca,la,ua,sa,pa=W.a.Item,fa=(Ln=w.f.bound,Tn=w.f.bound,Kn=w.f.bound,Nn=w.f.bound,Hn=w.f.bound,Object(d.c)((Un=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yn(e,t)}(o,e);var t,r,n,a=Zn(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Qn(t=a.call(this),"updateKey",Bn,ta(t)),Qn(t,"isEditing",Vn,ta(t)),t.store=e.store;var r=e.form.getFieldDecorator;return t.hostColumns=[{title:"主机名",dataIndex:"name",key:"name",render:function(e,t,n){return"add"===t.type||"edit"===t.type?React.createElement(pa,null,r("name",{rules:[{required:!0,message:"主机名称不能为空"}],initialValue:"edit"===t.type?t.name:""})(React.createElement(b.a,{placeholder:"请输入新主机名称"}))):e}},{title:"主机地址",dataIndex:"host",key:"host",render:function(e,t,n){return"add"===t.type||"edit"===t.type?React.createElement(pa,null,r("host",{rules:[{required:!0,message:"主机code不能为空"},{pattern:/^(http:\/\/|https:\/\/)\w+/,message:"必须以 http:// 或者https://开头"}],initialValue:"edit"===t.type?t.host:""})(React.createElement(b.a,{width:"100",placeholder:"请输入Host地址(注意加端口号)"}))):e}},{title:"操作",dataIndex:"action",key:"action",render:function(e,r,n){return"add"===r.type?React.createElement("div",{style:{marginRight:0,width:115}},React.createElement(h.a,{className:"ml4 mr4",type:"ghost",size:"small",onClick:function(){return t.handleAddHost("add")}},"添加"),React.createElement(h.a,{className:"ml4 mr4",type:"ghost",size:"small",onClick:function(){return t.handleAddHost("cancel")}},"取消")):"edit"===r.type?React.createElement("div",{style:{marginRight:0,width:115}},React.createElement(h.a,{className:"ml4 mr4",type:"ghost",size:"small",onClick:function(){return t.handleEditHost("edit",n)}},"保存修改"),React.createElement(h.a,{className:"ml4 mr4",type:"ghost",size:"small",onClick:function(){return t.handleEditHost("cancel",n)}},"取消")):React.createElement("div",null,React.createElement(h.a,{className:"ml4 mr4",type:"ghost",size:"small",onClick:function(){return t.handleEdit(r.host)}},"编辑"),React.createElement(h.a,{className:"ml4 mr4",type:"ghost",size:"small",onClick:function(){return t.store.deleteServiceHost(r.host)}},"删除"))}}],t}return t=o,(r=[{key:"handleOnCancel",value:function(){this.store.appHostVisible=!1,Se.a.remove(this.store.appInfo.hosts,(function(e){return"add"===e.type}))}},{key:"addHost",value:function(){this.store.appInfo.hosts.push({name:"",host:"",type:"add"})}},{key:"handleAddHost",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add",r=this.props.form.validateFields;"add"===t?r((function(t,r){t||e.store.addServiceHost(r)})):Se.a.remove(this.store.appInfo.hosts,(function(e){return"add"===e.type}))}},{key:"handleEditHost",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"edit",r=arguments.length>1?arguments[1]:void 0,n=this.props.form.validateFields;if("edit"===t)n((function(t,n){t||(e.store.editServiceHost(n,r),e.isEditing=!1)}));else{var a=this.store.appInfo.hosts[r];a&&delete a.type,this.isEditing=!1,this.updateKey=Math.random()}}},{key:"handleEdit",value:function(e){this.hasAddItem||(this.store.appInfo.hosts.find((function(t){return t.host===e})).type="edit",this.isEditing=!0,this.updateKey=Math.random())}},{key:"render",value:function(){if(!this.store.appHostVisible)return null;var e={title:"后端主机配置",visible:this.store.appHostVisible,onCancel:this.handleOnCancel,onOk:this.handleOnCancel,className:"app-host-modal",key:"host",maskClosable:!1,footer:React.createElement(h.a,{disabled:this.hasAddItem,size:"normal",onClick:this.addHost,type:"primary"},"新建主机")},t={columns:this.hostColumns,rowKey:"host",loading:this.store.isLoading,bordered:!0,className:"edit-table",dataSource:Object(w.r)(this.store.appInfo.hosts),pagination:!1};return React.createElement(ct.a,Wn({},e,{"data-update":this.updateKey}),React.createElement(Pt.a,t))}},{key:"hasAddItem",get:function(){return this.store.appInfo.hosts.some((function(e){return"add"===e.type}))||this.isEditing}}])&&$n(t.prototype,r),n&&$n(t,n),o}(p.Component),Bn=na((qn=Un).prototype,"updateKey",[w.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Vn=na(qn.prototype,"isEditing",[w.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),na(qn.prototype,"hasAddItem",[w.h],Object.getOwnPropertyDescriptor(qn.prototype,"hasAddItem"),qn.prototype),na(qn.prototype,"handleOnCancel",[Ln],Object.getOwnPropertyDescriptor(qn.prototype,"handleOnCancel"),qn.prototype),na(qn.prototype,"addHost",[Tn],Object.getOwnPropertyDescriptor(qn.prototype,"addHost"),qn.prototype),na(qn.prototype,"handleAddHost",[Kn],Object.getOwnPropertyDescriptor(qn.prototype,"handleAddHost"),qn.prototype),na(qn.prototype,"handleEditHost",[Nn],Object.getOwnPropertyDescriptor(qn.prototype,"handleEditHost"),qn.prototype),na(qn.prototype,"handleEdit",[Hn],Object.getOwnPropertyDescriptor(qn.prototype,"handleEdit"),qn.prototype),Fn=qn))||Fn),da=W.a.create()(fa);function ya(e){return(ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ha(){return(ha=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ma(e){return function(e){if(Array.isArray(e))return ba(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ba(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ba(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ba(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function va(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function ga(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){va(o,n,a,i,c,"next",e)}function c(e){va(o,n,a,i,c,"throw",e)}i(void 0)}))}}function Oa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wa(e,t){return(wa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ea(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ka(e);if(t){var a=ka(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Ca(this,r)}}function Ca(e,t){return!t||"object"!==ya(t)&&"function"!=typeof t?Pa(e):t}function Pa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ka(e){return(ka=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ja(e,t,r,n,a){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Ra,Sa,xa,Aa,Ia,Da,za,_a,La,Ta,Ka=W.a.Item,Na=(aa=Object(d.b)("globalStore"),oa=w.f.bound,ia=w.f.bound,ca=w.f.bound,aa(la=Object(d.c)((ja((ua=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wa(e,t)}(l,e);var t,r,n,a,o,i,c=Ea(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),function(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(t=c.call(this,e),"handleEdit",sa,Pa(t)),t.categoryColumns=[{title:"类目名称",dataIndex:"name",key:"name"},{title:"类目Code",dataIndex:"cateCode",key:"cateCode"}],t.hostColumns=[{title:"主机名称",dataIndex:"name",key:"name"},{title:"主机地址",dataIndex:"host",key:"host"}],t.appApiPrefixColumns=[{title:"前缀",key:"prefix",render:function(e,t){return t}},{title:"操作",dataIndex:"action",key:"action",width:"20%",render:function(e,r){return f.a.createElement("div",null,f.a.createElement("button",{className:"button-style",onClick:function(){return t.deleteApiPrefix(r)}},"删除"))}}],t}return t=l,(r=[{key:"deleteApiPrefix",value:(i=ga(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.props.store,Se.a.remove(r.appInfo.apiPrefiies,(function(e){return e===t})),e.next=4,r.editServiceApiPrefix(r.appInfo.apiPrefiies);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"addApiPrefix",value:(o=ga(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,this.props.form.validateFields)(function(){var e=ga(regeneratorRuntime.mark((function e(r,n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=6;break}return(a=t.props.store).appInfo.apiPrefiies.push(n.apiPrefix),e.next=5,a.editServiceApiPrefix(a.appInfo.apiPrefiies);case 5:t.props.store.apiPrefixVisible=!1;case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"handleCancel",value:function(){this.props.store.apiPrefixVisible=!1}},{key:"componentDidMount",value:(a=ga(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.globalStore.getList();case 2:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.props.store,r=this.props.form.getFieldDecorator,n=Object(w.r)(t.appInfo),a=this.props.globalStore.appConfigList,o=Object(w.r)(a).find((function(e){return t.appKey===e.key}));o=o||{config:{}};var i={columns:this.categoryColumns,rowKey:"cateCode",bordered:!0,pagination:!1,size:"small",dataSource:ma(n.categories)},c={columns:this.hostColumns,rowKey:"host",bordered:!0,pagination:!1,size:"small",dataSource:ma(n.hosts)},l={columns:this.appApiPrefixColumns,rowKey:"host",bordered:!0,pagination:!1,size:"small",dataSource:ma(n.apiPrefiies)},u={title:"添加接口前缀",visible:t.apiPrefixVisible,onCancel:this.handleCancel,onOk:this.addApiPrefix,className:"create-app-modal modal-new-style",key:"apiPrefixAdd",maskClosable:!1,width:390};return f.a.createElement("div",{className:"FB1 FBH FBJ",style:{overflowY:"auto",overflowX:"hidden"}},f.a.createElement("div",{className:"test-content ml10 FB1 edit-table"},f.a.createElement(Xn,{store:t}),f.a.createElement(da,{store:t}),f.a.createElement(H.a,{spinning:t.isLoading},f.a.createElement(we,{title:"服务基本信息"},f.a.createElement("div",null,f.a.createElement(Oe,{label:"服务名称:",value:o.config.name}),f.a.createElement(Oe,{label:"服务描述:",value:o.config.description}),f.a.createElement(Oe,{label:"创建时间:",value:n.ctime}),f.a.createElement(Oe,{label:"上次修改时间:",value:n.mtime}))),f.a.createElement(we,{title:"接口分类信息",extra:f.a.createElement(h.a,{type:"ghost",size:"small",onClick:function(){return e.handleEdit("appCateVisible")}},f.a.createElement(Pn.a,{type:"edit"})," 修改"),type:"table"},f.a.createElement(Pt.a,i)),f.a.createElement(we,{title:"接口测试主机配置",extra:f.a.createElement(h.a,{type:"ghost",size:"small",onClick:function(){return e.handleEdit("appHostVisible")}},f.a.createElement(Pn.a,{type:"edit"})," 修改"),type:"table"},f.a.createElement(Pt.a,c)),f.a.createElement(we,{title:"接口路由前缀配置",extra:f.a.createElement(h.a,{type:"ghost",size:"small",onClick:function(){return e.handleEdit("apiPrefixVisible")}},f.a.createElement(Pn.a,{type:"edit"})," 新增"),type:"table"},f.a.createElement(Pt.a,l)),f.a.createElement(ct.a,u,f.a.createElement(W.a,null,f.a.createElement(Ka,ha({},{labelCol:{span:8},wrapperCol:{span:15},colon:!1},{label:"接口前缀",hasFeedback:!0}),r("apiPrefix",{rules:[{required:!0,message:"必须填写"},{pattern:/^\/[a-zA-Z0-9-\/]*[a-zA-Z0-9-]$/,message:"接口前缀格式不对"}]})(f.a.createElement(b.a,{placeholder:"必须/开头"}))))))))}}])&&Oa(t.prototype,r),n&&Oa(t,n),l}(f.a.Component)).prototype,"addApiPrefix",[oa],Object.getOwnPropertyDescriptor(ua.prototype,"addApiPrefix"),ua.prototype),ja(ua.prototype,"handleCancel",[ia],Object.getOwnPropertyDescriptor(ua.prototype,"handleCancel"),ua.prototype),sa=ja(ua.prototype,"handleEdit",[ca],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.props.store[t]=!0}}}),la=ua))||la)||la),Ha=W.a.create()(Na),Fa=(r(668),r(341)),qa=r.n(Fa),Ba=r(1641);function Va(e){return(Va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ua(e){return function(e){if(Array.isArray(e))return Ma(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ma(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ma(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ja(){return(Ja=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Xa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ga(e,t){return(Ga=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ya(e);if(t){var a=Ya(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Qa(this,r)}}function Qa(e,t){return!t||"object"!==Va(t)&&"function"!=typeof t?$a(e):t}function $a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ya(e){return(Ya=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Za(e,t,r,n,a){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var eo,to,ro,no,ao,oo,io,co,lo,uo,so,po,fo,yo,ho,mo,bo,vo,go,Oo,wo,Eo,Co,Po,ko,jo,Ro,So,xo,Ao,Io,Do,zo,_o,Lo,To,Ko,No,Ho,Fo,qo,Bo=W.a.Item,Vo=X.a.Option,Uo=qa.a.Group,Mo=(Ra=w.f.bound,Sa=w.f.bound,xa=w.f.bound,Aa=w.f.bound,Ia=w.f.bound,Da=w.f.bound,Object(d.c)((Ta=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ga(e,t)}(o,e);var t,r,n,a=Wa(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),function(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(t=a.call(this,e),"updateKey",La,$a(t)),t.isShowBodyDescr=!1,t.expendIndex="",t.handleSetDetail=function(e,r,n){t.store.newApiData.detail=n},t.handleBody=function(e){t.store.newApiData.body=e},t.store=e.store,t.paramsColumns=[{title:"参数名称",dataIndex:"name",key:"name",width:200,render:function(e,r,n){if("RouterParam"===r.paramLocation)return React.createElement("strong",null,r.name);var a={placeholder:"请填写参数名称",onChange:function(e){t.handleOnChange(e.target.value,"name",r)},value:r.name?r.name:void 0};return React.createElement(Bo,null,React.createElement(b.a,a))}},{title:"参数位置",dataIndex:"paramLocation",key:"paramLocation",width:150,render:function(e,r,n){if("RouterParam"===r.paramLocation)return React.createElement(b.a,{value:r.paramLocation,disabled:!0});t.props.form.getFieldValue;var a={value:r.paramLocation?r.paramLocation:void 0,onChange:function(e){return t.handleOnChange(e,"paramLocation",r)}},o=[];return o.push(React.createElement(Vo,{value:"Query"},"Query")),o.push(React.createElement(Vo,{value:"Header"},"Header")),React.createElement(X.a,Ja({placeholder:"请选择参数位置"},a),o)}},{title:"是否必传",dataIndex:"isRequired",key:"isRequired",width:100,render:function(e,r,n){if("RouterParam"===r.paramLocation)return React.createElement(Pe.a,{checked:!0,disabled:!0});var a={onChange:function(e){return t.handleOnChange(e.target.checked,"isRequired",r)},checked:!0===r.isRequired&&r.isRequired};return React.createElement(Pe.a,a)}},{title:"示例值",dataIndex:"value",key:"value",render:function(e,r,n){var a={placeholder:"填写示例值",onChange:function(e){return t.handleOnChange(e.target.value,"value",r)},value:r.value?r.value:void 0};return React.createElement(b.a,a)}},{title:"描述说明",dataIndex:"description",key:"description",render:function(e,r,n){var a={placeholder:"描述说明字段含义",onChange:function(e){return t.handleOnChange(e.target.value,"description",r)},value:r.description};return React.createElement(b.a,a)}},{title:"操作",dataIndex:"action",key:"action",width:50,render:function(e,r,n){if("RouterParam"!==r.paramLocation)return React.createElement("a",{onClick:function(){return t.deleteItem(n)}},"删除")}}],t}return t=o,(r=[{key:"handleOnChange",value:function(e,t,r){r[t]="isRequired"===t||"description"===t?e:Se.a.trim(e),this.updateKey=Math.random()}},{key:"handleAddParams",value:function(){this.store.newApiData.params.push({name:"",paramLocation:"",isRequired:!0,value:"",description:""}),this.updateKey=Math.random()}},{key:"deleteItem",value:function(e){Se.a.remove(this.store.newApiData.params,(function(t,r){return r===e})),this.updateKey=Math.random()}},{key:"handlePathChange",value:function(e){var t=this,r=e.target.value,n=new RegExp("/:[^/:?]+","g"),a=r.match(n),o=this.store.newApiData.params.filter((function(e){return"RouterParam"===e.paramLocation}));Se.a.remove(this.store.newApiData.params,(function(e,t){return"RouterParam"===e.paramLocation})),a&&a.forEach((function(e){e=e.substring(1);var r=o.find((function(t){return t.name===e}));r?t.store.newApiData.params.unshift(r):t.store.newApiData.params.unshift({name:e,paramLocation:"RouterParam",isRequired:!0,value:"",description:""})})),this.updateKey=Math.random()}},{key:"handleApiPrefixChange",value:function(e){e=e.trim(),this.store.newApiData.apiPrefix=e,this.updateKey=Math.random()}},{key:"handleSave",value:function(){var e=this;(0,this.props.form.validateFieldsAndScroll)((function(t,r){if(!t){var n={name:r.name,path:r.path,method:r.method,cateCode:r.cateCode,apiPrefix:e.store.newApiData.apiPrefix||"",description:r.description||"",params:e.store.newApiData.params,body:e.store.newApiData.body||"{}",detail:e.store.newApiData.detail||""};if(n.apiPrefix&&!/^\/[a-zA-Z0-9-\/]+[^/]$/.test(n.apiPrefix))return void V.a.error("接口前缀填写不规范");if("GET"!==n.method||"HEAD"!==n.method)try{var a=JSON.parse(n.body);if(!Se.a.isObject(a))return void V.a.error("body填写不规范，不是JSON格式数据")}catch(e){return void V.a.error("body填写不规范，不是JSON格式数据")}e.store.saveApi(n)}}))}},{key:"render",value:function(){var e=this,t=this.store,r={labelCol:{span:4},wrapperCol:{span:19}},n={bordered:!1,dataSource:Ua(t.newApiData.params),columns:this.paramsColumns,pagination:!1,size:"small",locale:{emptyText:React.createElement(Nt,{tip:"暂无数据"})}},a=t.appInfo;a=Object(w.r)(a);var o=this.props.form.getFieldDecorator;return React.createElement("div",{className:"FB1 FBH FBJ",style:{overflowY:"auto",overflowX:"hidden"},"data-update":this.updateKey},React.createElement("div",{className:"test-content ml10 FB1 edit-table"},React.createElement(H.a,{spinning:t.isLoading},React.createElement(W.a,null,React.createElement(we,{title:"API基本信息"},React.createElement(Bo,Ja({},r,{label:"接口名称",hasFeedback:!0}),o("name",{rules:[{required:!0,message:"API名称不可为空"},{pattern:/^\S{2,128}$/,message:"长度范围2-128位"}],initialValue:t.newApiData.name})(React.createElement(b.a,{placeholder:"请输入API名称, 仅限字母、数字和下划线, 且长度范围3-128位",autoComplete:"off"}))),React.createElement(Bo,Ja({},r,{label:"功能描述",hasFeedback:!0}),o("description",{rules:[{required:!1}],initialValue:t.newApiData.description})(React.createElement(b.a,{placeholder:"请填写API功能描述"}))),React.createElement(Bo,Ja({},r,{label:"接口前缀",hasFeedback:!0}),React.createElement(je.a,{onChange:function(t){return e.handleApiPrefixChange(t)},placeholder:"填写接口前缀，必须/开头"},a.apiPrefiies.map((function(e){return React.createElement(je.a.Option,{key:e},e)})))),React.createElement(Bo,Ja({},r,{label:"API路径",hasFeedback:!0}),o("path",{rules:[{required:!0,message:"API路径不可为空"},{pattern:/^\/[a-z0-9-_.:/]+$/i,message:"必须以/开头，字母数字下划线点和冒号"}],initialValue:t.newApiData.path})(React.createElement(b.a,{placeholder:"必须以/开头，可以使用字母、数字、下划线和冒号",onChange:this.handlePathChange}))),React.createElement(Bo,Ja({},r,{label:"HTTP方法"}),o("method",{rules:[{required:!0,message:"HTTP Method不可为空"}],initialValue:t.newApiData.method})(React.createElement(Uo,null,React.createElement(qa.a,{value:"GET"},"GET"),React.createElement(qa.a,{value:"POST"},"POST"),React.createElement(qa.a,{value:"DELETE"},"DELETE"),React.createElement(qa.a,{value:"PUT"},"PUT"),React.createElement(qa.a,{value:"HEAD"},"HEAD")))),React.createElement(Bo,Ja({},r,{label:"所属分类"}),o("cateCode",{rules:[{required:!0,message:"接口所属分类不能为空"}],initialValue:t.newApiData.cateCode})(React.createElement(X.a,{placeholder:"所属分类"},a.categories.map((function(e){return React.createElement(Vo,{value:e.cateCode},e.name)})))))),React.createElement(we,{title:"API请求入参",extra:React.createElement(h.a,{onClick:this.handleAddParams},"增加入参")},React.createElement(Pt.a,n)),React.createElement(we,{title:"Body示例（GET请求无需填写）",bodyStyle:{padding:"0"}},React.createElement(Ee.a,{value:t.newApiData.body||"{\n\n}",onChange:function(t){return e.handleBody(t)}})),React.createElement(we,{title:"详情描述",bodyStyle:{padding:"0"}},React.createElement(Ba.a,{value:t.newApiData.detail||"\n\n\n\n\n\n",onChange:this.handleSetDetail}))),React.createElement("div",{className:"fac"},React.createElement(h.a,{ghost:!0,type:"primary",size:"large",onClick:function(){return e.handleSave()}},"edit"===t.type?"确定":"保存")))))}}])&&Xa(t.prototype,r),n&&Xa(t,n),o}(p.Component),La=Za((_a=Ta).prototype,"updateKey",[w.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Za(_a.prototype,"handleOnChange",[Ra],Object.getOwnPropertyDescriptor(_a.prototype,"handleOnChange"),_a.prototype),Za(_a.prototype,"handleAddParams",[Sa],Object.getOwnPropertyDescriptor(_a.prototype,"handleAddParams"),_a.prototype),Za(_a.prototype,"deleteItem",[xa],Object.getOwnPropertyDescriptor(_a.prototype,"deleteItem"),_a.prototype),Za(_a.prototype,"handlePathChange",[Aa],Object.getOwnPropertyDescriptor(_a.prototype,"handlePathChange"),_a.prototype),Za(_a.prototype,"handleApiPrefixChange",[Ia],Object.getOwnPropertyDescriptor(_a.prototype,"handleApiPrefixChange"),_a.prototype),Za(_a.prototype,"handleSave",[Da],Object.getOwnPropertyDescriptor(_a.prototype,"handleSave"),_a.prototype),za=_a))||za),Jo=W.a.create()(Mo),Xo=r(640),Go=Object(Xo.a)({getAppApiList:{method:"GET",url:"/app/:appKey"},updateApp:{method:"PUT",url:"/app/:appKey"},addApi:{method:"POST",url:"/app/:appKey"},getApiDetail:{url:"/app/:appKey/api/:apiId"},updateApi:{method:"PUT",url:"/app/:appKey/api/:apiId"},deleteApi:{method:"DELETE",url:"/app/:appKey/api/:apiId"},getTestCaseList:{url:"/app/:appKey/api/:apiId/case"},saveTestCase:{method:"POST",url:"/app/:appKey/api/:apiId/case"},deleteCase:{method:"DELETE",url:"/app/:appKey/api/:apiId/case/:caseId"},testApi:{method:"POST",url:"/test"}},"api"),Wo=r(1640),Qo=r.n(Wo)()({type:"localStorage",key:"render-server",tag:"v1.0",duration:6048e5});function $o(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Yo(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){$o(o,n,a,i,c,"next",e)}function c(e){$o(o,n,a,i,c,"throw",e)}i(void 0)}))}}function Zo(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function ei(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ti(e,t,r,n,a){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var ri,ni=(eo=w.f.bound,to=w.f.bound,ro=w.f.bound,no=w.f.bound,ao=w.f.bound,oo=w.f.bound,io=w.f.bound,co=w.f.bound,lo=w.f.bound,uo=w.f.bound,so=w.f.bound,po=w.f.bound,fo=w.f.bound,yo=w.f.bound,ho=w.f.bound,mo=w.f.bound,bo=w.f.bound,vo=w.f.bound,go=w.f.bound,wo=ti((Oo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Zo(this,"appInfo",wo,this),Zo(this,"apiId",Eo,this),Zo(this,"appKey",Co,this),Zo(this,"editApi",Po,this),Zo(this,"appCateVisible",ko,this),Zo(this,"appHostVisible",jo,this),Zo(this,"apiPrefixVisible",Ro,this),Zo(this,"apiList",So,this),Zo(this,"list",xo,this),Zo(this,"treeData",Ao,this),Zo(this,"apiDetail",Io,this),this.newApiData={name:"",path:"",method:"GET",cateCode:"",apiPrefix:"",description:"",params:[]},Zo(this,"apiPrefix",Do,this),Zo(this,"host",zo,this),Zo(this,"defaultBody",_o,this),this.body="",this.method="GET",this.param=[],this.query=[],this.direct=!1,this.header=[{name:"",value:""}],this.result={headers:{},body:"",status:"-"},Zo(this,"caseList",Lo,this),Zo(this,"caseListLoading",To,this),Zo(this,"selectedCaseId",Ko,this),Zo(this,"showCase",No,this),Zo(this,"modalVisible",Ho,this),Zo(this,"updateKey",Fo,this),Zo(this,"isLoading",qo,this),this.globalConfig=[{name:"X-Requested-With",paramLocation:"Header",checked:!0,value:"XMLHttpRequest"},{}];var t=Qo.get("globalConfig");if(t)try{var r=JSON.parse(t);r instanceof Array&&r.length>0&&(r.push({name:"",paramLocation:"Header",checked:!0,value:""}),this.globalConfig=r)}catch(e){}}var t,r,n,a,o,i,c,l,u,s,p,f,d,y,h,m,b,v,g;return t=e,(r=[{key:"update",value:function(){this.updateKey=Math.random()}},{key:"getAppApiList",value:(g=Yo(regeneratorRuntime.mark((function e(){var t,r,n,a,o,i,c,l,u,s,p=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,Go.getAppApiList({":appKey":this.appKey});case 3:if(t=e.sent,r=t.success,n=t.content,a=n.name,o=n.hosts,i=n.categories,c=n.apiPrefiies,l=n.apis,u=n.ctime,s=n.mtime,this.isLoading=!1,r){e.next=16;break}return e.abrupt("return");case 16:Object(w.p)((function(){p.apiList=l,p.appInfo={name:a,hosts:o,apiPrefiies:c,categories:i,ctime:u,mtime:s},p.listToTree()}));case 17:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"listToTree",value:function(){var e={};this.appInfo.categories.forEach((function(t){e[t.cateCode]={title:t.name,key:t.cateCode,type:"folder",children:[]}}));var t=[];this.apiList.forEach((function(r){t.push({title:r.name,key:r.apiId,type:"api",path:r.path,description:r.description}),e[r.cateCode]||(e[r.cateCode]={title:"未知分类",key:r.cateCode,type:"folder",children:[]}),e[r.cateCode].children.push({title:r.name,key:r.apiId,type:"api"})})),this.list.replace(t),this.treeData.replace(Se.a.values(e))}},{key:"addServiceCategory",value:(v=Yo(regeneratorRuntime.mark((function e(t){var r,n,a,o,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.appInfo.categories.some((function(e){return e.cateCode===t.cateCode}))){e.next=2;break}return e.abrupt("return",V.a.warn("该分类Code已经存在"));case 2:return r={category:{name:t.name,cateCode:t.cateCode},":appKey":this.appKey},e.next=5,Go.updateApp(r);case 5:if(n=e.sent,a=n.success,o=n.content,a){e.next=10;break}return e.abrupt("return");case 10:Object(w.p)((function(){V.a.success("新增分类成功"),i.appInfo=o}));case 11:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"editServiceCategory",value:(b=Yo(regeneratorRuntime.mark((function e(t,r){var n,a,o,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.appInfo.categories.forEach((function(e){e.cateCode===r&&(e.name=t.name),delete e.type})),e.next=3,Go.updateApp({":appKey":this.appKey,categories:this.appInfo.categories});case 3:if(n=e.sent,a=n.success,o=n.content,a){e.next=8;break}return e.abrupt("return");case 8:Object(w.p)((function(){V.a.success("接口分类修改成功"),i.appInfo=o}));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return b.apply(this,arguments)})},{key:"deleteServiceCategory",value:(m=Yo(regeneratorRuntime.mark((function e(t){var r,n,a,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Se.a.remove(this.appInfo.categories,(function(e){return e.cateCode===t})),e.next=3,Go.updateApp({":appKey":this.appKey,categories:this.appInfo.categories});case 3:if(r=e.sent,n=r.success,a=r.content,n){e.next=8;break}return e.abrupt("return");case 8:Object(w.p)((function(){V.a.success("删除类目成功"),o.appInfo=a}));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"addServiceHost",value:(h=Yo(regeneratorRuntime.mark((function e(t){var r,n,a,o,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.appInfo.hosts.some((function(e){return e.host===t.host}))){e.next=2;break}return e.abrupt("return",V.a.warn("该主机Host已经存在"));case 2:return r={host:{name:t.name,host:t.host},":appKey":this.appKey},e.next=5,Go.updateApp(r);case 5:if(n=e.sent,a=n.success,o=n.content,a){e.next=10;break}return e.abrupt("return");case 10:Object(w.p)((function(){V.a.success("新增主机配置成功"),i.appInfo=o}));case 11:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"editServiceHost",value:(y=Yo(regeneratorRuntime.mark((function e(t,r){var n,a,o,i,c=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.appInfo.hosts.some((function(e,n){return e.host===t.host&&r!==n}))){e.next=2;break}return e.abrupt("return",V.a.warn("该主机Host已经存在"));case 2:return(n=this.appInfo.hosts.find((function(e,t){return t===r}))).host=t.host,n.name=t.name,delete n.type,e.next=8,Go.updateApp({":appKey":this.appKey,hosts:this.appInfo.hosts});case 8:if(a=e.sent,o=a.success,i=a.content,o){e.next=13;break}return e.abrupt("return");case 13:Object(w.p)((function(){V.a.success("修改主机配置成功"),c.appInfo=i}));case 14:case"end":return e.stop()}}),e,this)}))),function(e,t){return y.apply(this,arguments)})},{key:"deleteServiceHost",value:(d=Yo(regeneratorRuntime.mark((function e(t){var r,n,a,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Se.a.remove(this.appInfo.hosts,(function(e){return e.host===t})),e.next=3,Go.updateApp({":appKey":this.appKey,hosts:this.appInfo.hosts});case 3:if(r=e.sent,n=r.success,a=r.content,n){e.next=8;break}return e.abrupt("return");case 8:Object(w.p)((function(){V.a.success("删除主机配置成功"),o.appInfo=a}));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"editServiceApiPrefix",value:(f=Yo(regeneratorRuntime.mark((function e(t){var r,n,a,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Go.updateApp({":appKey":this.appKey,apiPrefiies:t});case 2:if(r=e.sent,n=r.success,a=r.content,n){e.next=7;break}return e.abrupt("return");case 7:Object(w.p)((function(){V.a.success("操作成功"),o.appInfo=a}));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"getApiDetail",value:(p=Yo(regeneratorRuntime.mark((function e(){var t,r,n,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Go.getApiDetail({":appKey":this.appKey,":apiId":this.apiId});case 2:if(t=e.sent,r=t.success,n=t.content,r){e.next=7;break}return e.abrupt("return");case 7:Object(w.p)((function(){a.apiDetail=n,a.query=n.params.filter((function(e){return"Query"===e.paramLocation})).map((function(e){return e.checked=!0,e.disabled=!0,e})),a.param=n.params.filter((function(e){return"RouterParam"===e.paramLocation})).map((function(e){return e.checked=!0,e.disabled=e.isRequired,e})),a.header=n.params.filter((function(e){return"Header"===e.paramLocation})).map((function(e){return e.checked=!0,e.disabled=!0,e})),a.apiPrefix=n.apiPrefix||"",a.query.push({name:"",value:"",checked:!0}),a.header.push({name:"",value:"",checked:!0}),a.body=n.body,a.defaultBody=n.body,a.method=n.method,a.isLoading=!1,a.testUseStorage(),a.update()}));case 8:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"getTestCaseList",value:(s=Yo(regeneratorRuntime.mark((function e(){var t,r,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.caseListLoading=!0,e.next=3,Go.getTestCaseList({":appKey":this.appKey,":apiId":this.apiId});case 3:if(t=e.sent,r=t.content,t.success){e.next=8;break}return e.abrupt("return");case 8:Object(w.p)((function(){n.caseList=r||[],n.caseListLoading=!1}));case 9:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"saveTestCase",value:(u=Yo(regeneratorRuntime.mark((function e(t){var r,n,a,o,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={":appKey":this.appKey,":apiId":this.apiId,name:t,params:{apiPrefix:this.apiPrefix,header:this.header,param:this.param,query:this.query,body:this.body}},e.next=3,Go.saveTestCase(r);case 3:if(n=e.sent,a=n.success,o=n.content,a){e.next=8;break}return e.abrupt("return");case 8:V.a.success("新建成功"),this.modalVisible.addCase=!1,Object(w.p)((function(){i.caseList=o}));case 11:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"deleteCase",value:(l=Yo(regeneratorRuntime.mark((function e(t){var r,n,a,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.caseListLoading=!0,e.next=3,Go.deleteCase({":appKey":this.appKey,":apiId":this.apiId,":caseId":t});case 3:if(r=e.sent,n=r.success,a=r.content,this.caseListLoading=!1,n){e.next=9;break}return e.abrupt("return");case 9:Object(w.p)((function(){o.caseList=a}));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"useCase",value:(c=Yo(regeneratorRuntime.mark((function e(t){var r,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.caseList.find((function(e){return e.caseId===t}))){e.next=3;break}return e.abrupt("return",V.a.warn("用例数据没有找到"));case 3:this.header=Se.a.cloneDeep(r.params.header),this.defaultBody=r.params.body,this.body=r.params.body,this.apiPrefix=r.params.apiPrefix,this.query=Se.a.cloneDeep(r.params.query),r.params.param.forEach((function(e){var t=n.param.find((function(t){return t.name===e.name}));t&&(t.value=e.value)})),this.update();case 10:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"testApi",value:(i=Yo(regeneratorRuntime.mark((function e(){var t,r,n,a,o,i,c,l,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.formatParams()){e.next=3;break}return e.abrupt("return");case 3:return this.isLoading=!0,r=t.query,n=t.body,a=t.headers,o=t.path,i={path:o,host:this.host,direct:!!this.host,method:this.method,headers:a,query:r,body:n},e.next=8,Go.testApi(i);case 8:if(c=e.sent,l=c.success,u=c.content,this.isLoading=!1,l){e.next=14;break}return e.abrupt("return");case 14:if(u.headers["content-type"]&&/^application\/json/.test(u.headers["content-type"].toLowerCase()))try{u.body=JSON.stringify(JSON.parse(u.body),null,"\t")}catch(e){}this.result=u,this.update();case 17:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"formatParams",value:function(){var e=this.apiPrefix+this.apiDetail.path,t={},r=this.body,n={},a=!1;if(this.param.forEach((function(t){if(""===t.value.trim())return V.a.error("路由参数 ".concat(t.name," 未设置")),a=!0;e=e.replace(t.name,encodeURIComponent(t.value))})),this.query.forEach((function(e){if(e.name=e.name.trim(),e.checked&&""!==e.name){if(e.value=e.value.trim(),e.isRequired&&""===e.value)return V.a.error("Query 参数 ".concat(e.name," 未设置")),a=!0;"string"==typeof t[e.name]?t[e.name]=[t[e.name],e.value]:void 0===t[e.name]?t[e.name]=e.value:t[e.name].push(e.value)}})),this.header.forEach((function(e){if(e.name=e.name.trim(),e.value=e.value.trim(),e.checked&&""!==e.name){if(e.isRequired&&""===e.value)return V.a.error("Header 参数 ".concat(e.name," 未设置")),a=!0;""!==e.value&&(n[e.name]=e.value)}})),["POST","PUT","DELETE"].indexOf(this.method.toUpperCase())>=0)try{r=JSON.parse(r),Se.a.isObject(r)||(V.a.error("请求body不规范"),a=!0)}catch(e){V.a.error("请求body不规范"),a=!0}return!a&&{query:t,body:r,headers:n,path:e}}},{key:"saveApi",value:(o=Yo(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isLoading=!0,t[":appKey"]=this.appKey,!this.editApi){e.next=9;break}return t[":apiId"]=this.apiId,e.next=6,Go.updateApi(t);case 6:r=e.sent,e.next=12;break;case 9:return e.next=11,Go.addApi(t);case 11:r=e.sent;case 12:if(r.success){e.next=14;break}return e.abrupt("return");case 14:return this.editApi=!1,this.isLoading=!1,e.next=18,this.getAppApiList();case 18:E.e.push("".concat(E.b.pathPrefix,"/app/").concat(this.appKey,"/apis/").concat(r.content.apiId));case 19:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"deleteApi",value:(a=Yo(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Go.deleteApi({":appKey":this.appKey,":apiId":this.apiId});case 2:if(!e.sent.success){e.next=9;break}return V.a.success("删除成功"),e.next=8,this.getAppApiList();case 8:E.e.push("".concat(E.b.pathPrefix,"/app/").concat(this.appKey,"/apis/index"));case 9:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"clean",value:function(){this.currentServiceCode="",this.isLoading=!1,this.apiList=[],this.list.replace([]),this.treeData.replace([])}},{key:"resetStorage",value:function(){var e=this.globalConfig.filter((function(e){return!!e.name}));Qo.set("globalConfig",JSON.stringify(e)),this.testUseStorage()}},{key:"testUseStorage",value:function(){var e=this;this.globalConfig.filter((function(e){return!!e.name&&e.checked})).forEach((function(t){if("Query"===t.paramLocation){var r=e.query.find((function(e){return e.name===t.name}));r?r.value=t.value:e.query.push({name:t.name,value:t.value,checked:!0})}else if("Header"===t.paramLocation){var n=e.header.find((function(e){return e.name===t.name}));n?n.value=t.value:e.header.unshift({name:t.name,value:t.value,checked:!0})}}))}}])&&ei(t.prototype,r),n&&ei(t,n),e}()).prototype,"appInfo",[w.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{name:"",hosts:[],categories:[],apiPrefiies:[],ctime:"",mtime:""}}}),Eo=ti(Oo.prototype,"apiId",[w.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"index"}}),Co=ti(Oo.prototype,"appKey",[w.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Po=ti(Oo.prototype,"editApi",[w.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ko=ti(Oo.prototype,"appCateVisible",[w.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jo=ti(Oo.prototype,"appHostVisible",[w.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ro=ti(Oo.prototype,"apiPrefixVisible",[w.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),So=ti(Oo.prototype,"apiList",[w.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xo=ti(Oo.prototype,"list",[w.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ao=ti(Oo.prototype,"treeData",[w.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Io=ti(Oo.prototype,"apiDetail",[w.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Do=ti(Oo.prototype,"apiPrefix",[w.o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zo=ti(Oo.prototype,"host",[w.o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_o=ti(Oo.prototype,"defaultBody",[w.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Lo=ti(Oo.prototype,"caseList",[w.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),To=ti(Oo.prototype,"caseListLoading",[w.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ko=ti(Oo.prototype,"selectedCaseId",[w.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),No=ti(Oo.prototype,"showCase",[w.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ho=ti(Oo.prototype,"modalVisible",[w.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{addCase:!1,editCase:!1}}}),Fo=ti(Oo.prototype,"updateKey",[w.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),qo=ti(Oo.prototype,"isLoading",[w.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ti(Oo.prototype,"update",[eo],Object.getOwnPropertyDescriptor(Oo.prototype,"update"),Oo.prototype),ti(Oo.prototype,"getAppApiList",[to],Object.getOwnPropertyDescriptor(Oo.prototype,"getAppApiList"),Oo.prototype),ti(Oo.prototype,"listToTree",[ro],Object.getOwnPropertyDescriptor(Oo.prototype,"listToTree"),Oo.prototype),ti(Oo.prototype,"addServiceCategory",[no],Object.getOwnPropertyDescriptor(Oo.prototype,"addServiceCategory"),Oo.prototype),ti(Oo.prototype,"editServiceCategory",[ao],Object.getOwnPropertyDescriptor(Oo.prototype,"editServiceCategory"),Oo.prototype),ti(Oo.prototype,"deleteServiceCategory",[oo],Object.getOwnPropertyDescriptor(Oo.prototype,"deleteServiceCategory"),Oo.prototype),ti(Oo.prototype,"addServiceHost",[io],Object.getOwnPropertyDescriptor(Oo.prototype,"addServiceHost"),Oo.prototype),ti(Oo.prototype,"editServiceHost",[co],Object.getOwnPropertyDescriptor(Oo.prototype,"editServiceHost"),Oo.prototype),ti(Oo.prototype,"deleteServiceHost",[lo],Object.getOwnPropertyDescriptor(Oo.prototype,"deleteServiceHost"),Oo.prototype),ti(Oo.prototype,"editServiceApiPrefix",[uo],Object.getOwnPropertyDescriptor(Oo.prototype,"editServiceApiPrefix"),Oo.prototype),ti(Oo.prototype,"getApiDetail",[so],Object.getOwnPropertyDescriptor(Oo.prototype,"getApiDetail"),Oo.prototype),ti(Oo.prototype,"getTestCaseList",[po],Object.getOwnPropertyDescriptor(Oo.prototype,"getTestCaseList"),Oo.prototype),ti(Oo.prototype,"saveTestCase",[fo],Object.getOwnPropertyDescriptor(Oo.prototype,"saveTestCase"),Oo.prototype),ti(Oo.prototype,"deleteCase",[yo],Object.getOwnPropertyDescriptor(Oo.prototype,"deleteCase"),Oo.prototype),ti(Oo.prototype,"useCase",[ho],Object.getOwnPropertyDescriptor(Oo.prototype,"useCase"),Oo.prototype),ti(Oo.prototype,"testApi",[mo],Object.getOwnPropertyDescriptor(Oo.prototype,"testApi"),Oo.prototype),ti(Oo.prototype,"saveApi",[bo],Object.getOwnPropertyDescriptor(Oo.prototype,"saveApi"),Oo.prototype),ti(Oo.prototype,"deleteApi",[vo],Object.getOwnPropertyDescriptor(Oo.prototype,"deleteApi"),Oo.prototype),ti(Oo.prototype,"clean",[go],Object.getOwnPropertyDescriptor(Oo.prototype,"clean"),Oo.prototype),Oo);function ai(e){return(ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ii(e,t){return(ii=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ci(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ui(e);if(t){var a=ui(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return li(this,r)}}function li(e,t){return!t||"object"!==ai(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ui(e){return(ui=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var si=["index","new"],pi=new ni,fi=Object(d.b)("globalStore")(ri=Object(d.c)(ri=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ii(e,t)}(o,e);var t,r,n,a=ci(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=a.call(this,e),pi.appKey=t.props.match.params.appKey,pi.apiId=t.props.match.params.apiId,Object(E.f)("AppApi",pi.appKey,pi.apiId),pi.getAppApiList(),t}return t=o,(r=[{key:"componentWillReceiveProps",value:function(e){pi.appKey=e.match.params.appKey,pi.apiId=e.match.params.apiId}},{key:"componentWillUnmount",value:function(){pi.clean()}},{key:"render",value:function(){return f.a.createElement("div",{className:"page-container page-test FBH",style:{overflowY:"hidden"}},f.a.createElement(K,{store:pi}),"index"===pi.apiId?f.a.createElement(Ha,{store:pi}):null,"new"===pi.apiId?f.a.createElement(Jo,{store:pi}):null,si.indexOf(pi.apiId)<0&&pi.editApi?f.a.createElement(Jo,{store:pi}):null,si.indexOf(pi.apiId)<0&&!pi.editApi?f.a.createElement(En,{key:Math.random(),store:pi}):null)}}])&&oi(t.prototype,r),n&&oi(t,n),o}(f.a.Component))||ri)||ri;t.default=fi}}]);